(this["webpackJsonpa-food-affair"]=this["webpackJsonpa-food-affair"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/LogoSvg.cd51aafe.svg"},,,function(e,t,n){},function(e,t,n){},,,,,,,,,,function(e,t,n){e.exports=n(62)},,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,i,c,r,s=n(0),l=n.n(s),o=n(15),d=n.n(o),u=n(2),m=(n(41),n(42),n(9)),f=n(3),v=n(1),b=n(64),p=n(65);!function(e){e[e.WIP=0]="WIP",e[e.OK=1]="OK",e[e.KO=2]="KO"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.INGREDIENTS_STORE=1]="INGREDIENTS_STORE",e[e.RECIPES=2]="RECIPES",e[e.RESTARTPAGE=3]="RESTARTPAGE"}(i||(i={})),function(e){e[e.FIRST_STOP=0]="FIRST_STOP",e[e.LOSE_STOP=1]="LOSE_STOP",e[e.PAUSE=2]="PAUSE",e[e.PLAY=3]="PLAY",e[e.WIN_STOP=4]="WIN_STOP"}(c||(c={}));var I,g,O,E,_={status:c.FIRST_STOP,tables:0,nextTableTime:0,combo:0},y=Object(f.c)({name:"game",initialState:_,reducers:{selectStatus:function(e,t){e.status=t.payload.status},startgame:function(e,t){return{status:c.PLAY,tables:0,nextTableTime:t.payload.currentTime+2e3,combo:0}},togglePausegame:function(e,t){e.status=t.payload.status}},extraReducers:(r={},Object(v.a)(r,Object(f.b)("tables/addTable").type,(function(e,t){e.tables+=1,e.nextTableTime=t.payload.nextTableTime})),Object(v.a)(r,Object(f.b)("clients/setOk").type,(function(e){e.combo=e.combo<2?2:e.combo,e.combo+=1})),Object(v.a)(r,Object(f.b)("clients/setKo").type,(function(e){e.combo=2===e.combo?1:2})),Object(v.a)(r,Object(f.b)("clients/updateStatuses").type,(function(e){e.combo=2===e.combo?1:2})),r)}),T=function(e,t){return Array.isArray(e)?Object(b.a)(e,t):t},h=Object(f.c)({name:"tables",initialState:{data:{t1:{id:"t1"},t2:{id:"t2"},t3:{id:"t3"}},clients:{t1:["c1","c2"],t2:["c3"],t3:["c4","c5"]},ids:["t1","t2","t3"]},reducers:{removeTable:function(e,t){var n=t.payload.tableId;return delete e.data[n],delete e.clients[n],e.ids=e.ids.filter((function(e){return n!==e})),e},addTable:function(e,t){return Object(p.a)(T,e,t.payload.tables)},removeTables:function(e,t){return t.payload.tablesIds.forEach((function(t){delete e.data[t],delete e.clients[t],e.ids=e.ids.filter((function(e){return t!==e}))})),e}},extraReducers:Object(v.a)({},y.actions.startgame.type,(function(e){return{data:{},clients:{},ids:[]}}))}),j=function(e,t){return Array.isArray(e)?Object(b.a)(e,t):t},S={data:{c1:{id:"c1",status:a.WIP,coins:100,createdAt:0,liveTime:5e3},c2:{id:"c2",status:a.WIP,coins:100,createdAt:0,liveTime:5e3},c3:{id:"c3",status:a.WIP,coins:100,createdAt:0,liveTime:5e3},c4:{id:"c4",status:a.WIP,coins:100,createdAt:0,liveTime:5e3},c5:{id:"c5",status:a.WIP,coins:100,createdAt:0,liveTime:5e3}},recipes:{c1:"donut-kitkat",c2:"donut-kitkat",c3:"donut-oreo",c4:"donut-oreo",c5:"donut-kitkat"},ids:["c1","c2","c3","c4","c5"],tables:{c1:"t1",c2:"t1",c3:"t2",c4:"t3",c5:"t3"}},N=Object(f.c)({name:"clients",initialState:S,reducers:{updateStatus:function(e,t){var n=t.payload,a=n.status,i=n.clientId;e.data[i].status=a},updateStatuses:function(e,t){var n=t.payload,a=n.status;n.clientIds.forEach((function(t){e.data[t].status=a}))},setOk:function(e,t){var n=t.payload.clientId;e.data[n].status=a.OK},setKo:function(e,t){var n=t.payload.clientId;e.data[n].status=a.KO}},extraReducers:(I={},Object(v.a)(I,y.actions.startgame.type,(function(e,t){return{data:{},recipes:{},ids:[],tables:{}}})),Object(v.a)(I,h.actions.removeTables.type,(function(e,t){var n=t.payload.clientsIds;n.forEach((function(t){delete e.data[t],delete e.recipes[t],delete e.tables[t]})),e.ids=e.ids.filter((function(e){return!n.includes(e)}))})),Object(v.a)(I,h.actions.addTable.type,(function(e,t){return Object(p.a)(j,e,t.payload.clients)})),I)}),k=Object(f.c)({name:"dishes",initialState:{data:{d1:{id:"d1",isSelected:!1},d2:{id:"d2",isSelected:!1}},ids:["d1","d2"],ingredients:{d1:["donut","kitkat","oreo"],d2:["oreo","donut"]}},reducers:{addIngredient:function(e,t){var n=t.payload,a=n.dishId,i=n.ingredientId;e.ingredients[a]=e.ingredients[a]||[],e.ingredients[a].push(i)},clear:function(e,t){var n=t.payload.dishId;e.ingredients[n]=[],e.data[n].isSelected=!1},copy:function(e,t){var n=t.payload,a=n.dishId,i=n.selectedDishId,c=e.ingredients[i];e.ingredients[a]=(e.ingredients[a]||[]).concat(c||[]),e.ingredients[i]=[],e.data[i].isSelected=!1},select:function(e,t){var n=t.payload.dishId;e.data[n].isSelected=!0},unselect:function(e,t){var n=t.payload.dishId;e.data[n].isSelected=!1}},extraReducers:(g={},Object(v.a)(g,y.actions.startgame.type,(function(e,t){var n=t.payload.dishesIds;return{data:n.map((function(e){return{id:e,isSelected:!1}})).reduce((function(e,t){return e[t.id]=t,e}),{}),ids:n,ingredients:{}}})),Object(v.a)(g,N.actions.setOk.type,(function(e,t){var n=t.payload.dishId;e.ingredients[n]=[],e.data[n].isSelected=!1})),Object(v.a)(g,N.actions.setKo.type,(function(e,t){var n=t.payload.dishId;e.ingredients[n]=[],e.data[n].isSelected=!1})),g)}),P=Object(f.c)({name:"ingredients",initialState:{data:{donut:{id:"donut"},oreo:{id:"oreo"},kitkat:{id:"kitkat"}},ids:["donut","oreo","kitkat"]},reducers:{}}),L={modalType:i.RESTARTPAGE,selectedRecipeId:"donut-oreo",selectedDishId:null},R=Object(f.c)({name:"ui",initialState:L,reducers:{selectVisibleModalType:function(e,t){e.modalType=t.payload.modalType},closeIngredientsStore:function(e){e.selectedDishId=null,e.modalType=i.NONE},showIngredientsStore:function(e,t){e.selectedDishId=t.payload.dishId,e.modalType=i.INGREDIENTS_STORE},showRecipes:function(e,t){e.selectedRecipeId=t.payload.recipeId,e.modalType=i.RECIPES}},extraReducers:(O={},Object(v.a)(O,y.actions.startgame.type,(function(e,t){return{selectedDishId:null,selectedRecipeId:L.selectedRecipeId,modalType:i.NONE}})),Object(v.a)(O,y.actions.togglePausegame.type,(function(e,t){e.modalType=t.payload.modalType})),Object(v.a)(O,k.actions.clear.type,(function(e){e.selectedDishId=null})),Object(v.a)(O,k.actions.addIngredient.type,(function(e){e.selectedDishId=null,e.modalType=i.NONE})),Object(v.a)(O,k.actions.copy.type,(function(e){e.selectedDishId=null})),Object(v.a)(O,k.actions.select.type,(function(e,t){e.selectedDishId=t.payload.dishId})),Object(v.a)(O,k.actions.unselect.type,(function(e){e.selectedDishId=null})),Object(v.a)(O,N.actions.setOk.type,(function(e){e.selectedDishId=null})),Object(v.a)(O,N.actions.setKo.type,(function(e){e.selectedDishId=null})),O)}),A=Object(f.c)({name:"recipes",initialState:{data:{"donut-kitkat":{id:"donut-kitkat"},"donut-oreo":{id:"donut-oreo"}},ingredients:{"donut-kitkat":["donut","kitkat"],"donut-oreo":["donut","oreo"]}},reducers:{}}),x={lives:1,coins:0,levelId:1},C=Object(f.c)({name:"profile",initialState:x,reducers:{selectLevel:function(e,t){return e.levelId=t.payload.levelId,e},decreaseLives:function(e,t){var n=t.payload.lives;return e.lives-=n,e},increseCoins:function(e,t){var n=t.payload.coins;return e.coins+=n,e}},extraReducers:(E={},Object(v.a)(E,y.actions.startgame.type,(function(e,t){return{coins:0,lives:t.payload.lives,levelId:t.payload.levelId}})),Object(v.a)(E,N.actions.setKo.type,(function(e){e.lives-=1})),E)}),D=Object(f.c)({name:"levels",initialState:{data:{1:{id:"1",dishes:2,lives:1,maxClients:1,maxTables:1,timePerIngredient:36e6,isLock:!1,randomTables:!1},2:{id:"2",dishes:2,lives:1,maxClients:2,maxTables:1,timePerIngredient:36e6,isLock:!1,randomTables:!1},3:{id:"3",dishes:2,lives:1,maxClients:2,maxTables:1,timePerIngredient:1e4,isLock:!0,randomTables:!1},4:{id:"3",dishes:2,lives:2,maxClients:3,maxTables:5,timePerIngredient:8e3,isLock:!0,randomTables:!0}},recipes:{1:["donut-kitkat"],2:["donut-oreo"],3:["donut-kitkat","donut-oreo"],4:["donut-kitkat","donut-oreo"]}},reducers:{unlockLevel:function(e,t){return e.data[t.payload.level].isLock=!1,e}}}),W=Object(f.c)({name:"timer",initialState:{currentTime:0},reducers:{set:function(e,t){e.currentTime=t.payload.currentTime}}}),w=Object(m.combineReducers)({clients:N.reducer,dishes:k.reducer,tables:h.reducer,ingredients:P.reducer,ui:R.reducer,recipes:A.reducer,profile:C.reducer,levels:D.reducer,game:y.reducer,timer:W.reducer}),K=Object(f.a)({reducer:w,middleware:Object(f.d)()}),G=n(7),F=n.n(G),M=(n(48),n(20),n(18)),V=n(27),Q=n(63),U=(Object(V.a)((function(e){return e.dishes.data}),(function(e){return Object.values(e)})),function(e){return e.dishes.ids}),Y=Object(V.a)((function(e,t){return e.dishes.data[t]}),(function(e){return e})),B=Object(V.a)((function(e){return e.tables.ids}),(function(e){return Object(Q.a)(e)})),J=(Object(V.a)((function(e){return e.tables.data}),(function(e){return Object.values(e)})),Object(V.a)((function(e,t){return e.tables.clients[t]||[]}),(function(e){return e}))),q=Object(V.a)((function(e){return e.profile.levelId}),(function(e){return e.levels.recipes}),(function(e){return e.recipes.ingredients}),(function(e,t,n){return Array.from(new Set(t[e].flatMap((function(e){return n[e]}))))})),z=Object(V.a)((function(e,t){return e.clients.data[t]}),(function(e){return e})),H=Object(V.a)((function(e,t){return e.clients.recipes[t]}),(function(e){return e})),X=Object(V.a)((function(e){return e.ui.selectedRecipeId}),(function(e){return e.recipes.ingredients}),(function(e){return e.ingredients.data}),(function(e,t,n){var a=[];e&&(a=t[e].map((function(e){return n[e]})));return a})),Z=n(30),$=n(19),ee=n.n($),te=n(11),ne=function(e){te.a.timeline().to(e,.1,{rotation:-10,ease:"Quad.easeInOut"}).to(e,.1,{rotation:10,repeat:3,yoyo:!0,ease:"Quad.easeInOut"}).to(e,.15,{rotation:0})},ae=function(e){return function(t){te.a.killTweensOf(t.currentTarget),te.a.to(t.currentTarget,0,{y:0,rotation:0}),te.a.to(t.currentTarget,.1,{y:"0.5rem",yoyo:!0,repeat:1,onComplete:e})}};var ie=Date.now(),ce=function(){return function(e,t){var n=t(),a=n.profile,r=n.game,s=n.levels,l=n.tables;Object(u.b)((function(){a.lives<=0&&(e(y.actions.selectStatus({status:c.LOSE_STOP})),e(R.actions.selectVisibleModalType({modalType:i.RESTARTPAGE})));var t=s.data[a.levelId];if(a.lives>0&&r.tables===t.maxTables&&!l.ids.length){var n=a.levelId<Object.keys(s.data).length?a.levelId+1:null;n&&(e(D.actions.unlockLevel({level:n})),e(C.actions.selectLevel({levelId:n}))),e(y.actions.selectStatus({status:c.WIN_STOP})),e(R.actions.selectVisibleModalType({modalType:i.RESTARTPAGE}))}}))}},re=function(e){return function(t,n){var i,c,r=n(),s=r.clients,l=r.tables,o=s.tables[e],d=l.clients[o];if(d.every((function(e){return s.data[e].status!==a.WIP}))){var u=d.reduce((function(e,t){var n=s.data[t];return e+(n.status===a.OK?n.coins:0)}),0);u&&t(C.actions.increseCoins({coins:u})),i=".table__".concat(o),c=function(){t(h.actions.removeTable({tableId:o}))},te.a.to(i,.2,{y:"-8rem",opacity:0,onComplete:c,delay:1,ease:"Quad.easeInOut"})}}},se=function(){return function(e,t){var n=t(),i=n.levels,c=n.profile,r=n.recipes,s=c.levelId,l=i.data[s],o=ee()(),d=l.randomTables?Math.floor(Math.random()*l.maxClients)+1:l.maxClients,u=Array.from(new Array(d)).map((function(){return ee()()})),m={data:{},recipes:{},ids:[],tables:{}};u.forEach((function(e){var t=Math.floor(Math.random()*i.recipes[s].length),n=i.recipes[s][t],c=r.ingredients[n];m.data[e]={id:e,status:a.WIP,coins:100,createdAt:ie,liveTime:ie+c.length*l.timePerIngredient},m.recipes[e]=n,m.ids.push(e),m.tables[e]=o}));var f,b={data:Object(v.a)({},o,{id:o}),clients:Object(v.a)({},o,u),ids:[o]},p=Math.max.apply(Math,Object(Z.a)(Object.values(m.data).map((function(e){return e.liveTime-ie}))));e(h.actions.addTable({tables:b,clients:m,nextTableTime:ie+.65*p})),f=".table__".concat(o),te.a.fromTo(f,.2,{y:"-8rem",opacity:0},{y:0,opacity:1,ease:"Quad.easeInOut"})}},le=function(){return function(e,t){var n=t(),a=n.ui,r=n.game;e(y.actions.togglePausegame({status:r.status===c.PAUSE?c.PLAY:c.PAUSE,modalType:a.modalType===i.NONE?i.RESTARTPAGE:i.NONE}))}};window.setInterval((function(){var e=K.getState(),t=e.game,n=e.profile,i=e.levels;if(t.status===c.PLAY){ie+=400,K.dispatch(W.actions.set({currentTime:ie})),K.dispatch((function(e,t){var n=t(),i=n.clients,c=n.profile,r=Object.values(i.data).filter((function(e){return e.status===a.WIP&&ie>=e.liveTime})).map((function(e){return e.id}));r.length&&Object(u.b)((function(){e(N.actions.updateStatuses({status:a.KO,clientIds:r})),ne(r.map((function(e){return".client__".concat(e)})).join(",")),e(C.actions.decreaseLives({lives:r.length>c.lives?c.lives:r.length})),c.lives-r.length<=0&&setTimeout((function(){return e(ce())}),1500),r.forEach((function(n){t().clients.data[n]&&e(re(n))}))}))}));var r=i.data[n.levelId];n.lives>0&&t.tables!==r.maxTables&&ie>=t.nextTableTime&&K.dispatch(se())}}),400);var oe={chooseIngredient:function(e){return function(t,n){var a=n().ui.selectedDishId;a&&t(k.actions.addIngredient({dishId:a,ingredientId:e}))}},closeIngredientsStore:function(){return function(e,t){t().ui.selectedDishId&&e(R.actions.closeIngredientsStore())}}},de=Object(u.c)((function(e){return{ingredientsIds:q(e),isVisible:e.ui.modalType===i.INGREDIENTS_STORE}}),oe),ue=function(e){return F()("ingredients-store",{"ingredients-store--visible":e})},me=de((function(e){var t=e.ingredientsIds,n=e.isVisible,a=e.chooseIngredient,i=e.closeIngredientsStore;return n?l.a.createElement("div",{className:ue(n)},l.a.createElement("div",{className:"ingredients-store__list"},function(e,t){return e.map((function(e){return l.a.createElement("div",{className:"ingredients-store__ingredient ingredient__".concat(e),key:e,onClick:ae((function(){return t(e)}))})}))}(t,a)),l.a.createElement("div",{className:"ingredients-store__controls"},l.a.createElement("div",{className:"ingredients-store__close-btn",onClick:ae(i)}))):null})),fe=(n(51),n(21),{hideRecipes:function(){return R.actions.selectVisibleModalType({modalType:i.NONE})}}),ve=Object(u.c)((function(e){return{ingredients:X(e),recipeId:e.ui.selectedRecipeId,isVisible:e.ui.modalType===i.RECIPES}}),fe),be=function(e){return F()("recipes",{"recipes--visible":e})},pe=ve((function(e){var t=e.ingredients,n=e.recipeId,a=e.isVisible,i=e.hideRecipes;return a?l.a.createElement("div",{className:be(a)},l.a.createElement("div",{className:"recipes__list"},function(e){return e.map((function(t,n){return l.a.createElement(s.Fragment,{key:"".concat(t.id,"-").concat(n)},l.a.createElement("div",{className:"recipes__ingredient ingredient__".concat(t.id)}),n!==e.length-1?l.a.createElement("div",{className:"recipes__symbol"},"+"):null)}))}(t),l.a.createElement("div",{className:"recipes__symbol"},"="),l.a.createElement("div",{className:"recipes__recipe recipe__".concat(n)})),l.a.createElement("div",{className:"recipes__controls"},l.a.createElement("div",{className:"recipes__close-btn",onClick:ae(i)}))):null})),Ie=(n(52),n(17)),ge=n.n(Ie),Oe=(n(53),Object(u.c)((function(e){return{lives:e.profile.lives,coins:e.profile.coins,levelId:e.profile.levelId}}))((function(e){var t=e.lives,n=e.coins,a=e.levelId;return l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile__level"},"Lv ",a),l.a.createElement("div",{className:"profile__lives"},l.a.createElement("div",{className:"profile__lives__logo"}),"x ",t),l.a.createElement("div",{className:"profile__coins"},l.a.createElement("div",{className:"profile__coins__logo"}),n))}))),Ee=(n(54),n(55),n(56),n(57),Object(u.c)((function(e,t){return{currentTime:t.isWaiting?e.timer.currentTime:t.liveTime}}))),_e=function(e,t,n,a){return{strokeDasharray:"".concat(a?100*(n-t)/(e-t):100," 100")}},ye=Ee((function(e){var t=e.createdAt,n=e.liveTime,a=e.currentTime,i=e.isWaiting;return l.a.createElement("svg",{className:"clock",viewBox:"0 0 64 64",transform:"rotate(-90)"},l.a.createElement("circle",{r:"25%",cx:"50%",cy:"50%",style:_e(n,t,a,i)}))})),Te={chooseClient:function(e,t,n){return function(a,i){var c=i(),r=c.ui,s=c.recipes,l=c.dishes,o=c.profile,d=r.selectedDishId;if(!(o.lives<=0)){if(d){var m=function(e,t){if(e.length!==t.length)return!1;var n=e.sort(),a=t.sort();return n.every((function(e,t){return e===a[t]}))}(s.ingredients[t].slice(),l.ingredients[d].slice());Object(u.b)((function(){m&&a(N.actions.setOk({clientId:e,dishId:d})),m||a(N.actions.setKo({clientId:e,dishId:d})),setTimeout((function(){return a(ce())}),1500),a(re(e))})),ne(".client__".concat(e))}d||ae((function(){return a(R.actions.showRecipes({recipeId:t}))}))(n)}}}},he=Object(u.c)((function(e,t){return{client:z(e,t.clientId),recipeId:H(e,t.clientId)}}),Te),je=function(e){return F()({client__ok:e===a.OK,client__ko:e===a.KO})},Se=he((function(e){var t,n=e.client,i=e.recipeId,c=e.chooseClient,r=e.clientId;return l.a.createElement("div",Object.assign({},function(e,t,n){return e.status===a.WIP?{onClick:function(a){return n(e.id,t,a)}}:{}}(n,i,c),{className:"client"}),l.a.createElement("div",{className:"client__cloud"}),(t=n.status)!==a.WIP?l.a.createElement("div",{className:je(t)}):null,function(e,t){return e===a.WIP?l.a.createElement("div",{className:"client__recipe recipe__".concat(t)}):null}(n.status,i),l.a.createElement("div",{className:"client__client client__".concat(r)}),l.a.createElement(ye,{isWaiting:n.status===a.WIP,createdAt:n.createdAt,liveTime:n.liveTime}))})),Ne=Object(u.c)((function(e,t){return{clients:J(e,t.tableId)}})),ke=Ne((function(e){var t=e.clients,n=e.tableId;return l.a.createElement("div",{className:"table table__".concat(n)},function(e){return e.map((function(e){return l.a.createElement(Se,{key:e,clientId:e})}))}(t))})),Pe=Object(u.c)((function(e){return{tablesIds:B(e)}})),Le=Pe((function(e){var t=e.tablesIds;return l.a.createElement("div",{className:"diner"},function(e){return e.map((function(e){return l.a.createElement(ke,{tableId:e,key:e})}))}(t))})),Re=(n(58),n(59),{chooseDish:function(e,t){return function(n,a){var i,c=a(),r=c.dishes,s=c.ui,l=r.data[e].isSelected;if(!l){var o=s.selectedDishId;if(o&&(n(k.actions.copy({dishId:e,selectedDishId:o})),(i=function(){},function(e){te.a.timeline().to(e.currentTarget,.1,{rotation:-10,ease:"Quad.easeInOut"}).to(e.currentTarget,.1,{rotation:10,repeat:3,yoyo:!0,ease:"Quad.easeInOut"}).to(e.currentTarget,.15,{rotation:0,onComplete:i})})(t)),!o){var d=r.ingredients[e]||[],u=Boolean(d.length);u&&ae((function(){return n(k.actions.select({dishId:e}))}))(t),u||ae((function(){return n(R.actions.showIngredientsStore({dishId:e}))}))(t)}}l&&ae((function(){return n(k.actions.unselect({dishId:e}))}))(t)}}}),Ae=Object(u.c)((function(){var e=function(){var e=[];return Object(V.a)((function(t,n){return t.dishes.ingredients[n]||e}),(function(e){return e.ingredients.data}),(function(e,t){return e.map((function(e){return t[e]})).reverse()}))}(),t=Object(V.a)((function(e,t){return e.dishes.ingredients[t]||[]}),(function(e){return e.recipes.ingredients}),(function(e,t){var n=e.slice().sort(),a=Object.entries(t).find((function(e){var t=Object(M.a)(e,2),a=(t[0],t[1]);return n.length===a.length&&a.slice().sort().every((function(e,t){return e===n[t]}))}));return a?a[0]:null}));return function(n,a){return{dish:Y(n,a.dishId),ingredients:e(n,a.dishId),recipeId:t(n,a.dishId)}}}),Re),xe=function(e,t){return l.a.createElement(l.a.Fragment,null,function(e){return e.slice(0,e.length<=4?e.length:3).map((function(t,n){return l.a.createElement("div",{className:(a=e.length,i=t.id,F()("dish__ingredient","ingredient__".concat(i),{"dish__ingredient--main":1===a})),key:"".concat(t.id,"-").concat(n)});var a,i}))}(e),e.length>t&&l.a.createElement("div",{className:"dish__ellipsis"},"..."))},Ce=Ae((function(e){var t,n=e.dish,a=e.dishId,i=e.ingredients,c=e.chooseDish,r=e.recipeId;return l.a.createElement("div",{className:(t=n.isSelected,F()("dish",{"dish--is-selected":t})),onClick:function(e){return c(a,e)}},r?l.a.createElement("div",{className:"dish__recipe recipe__".concat(r)}):xe(i,4))})),De={clearDish:function(){return function(e,t){var n=t().ui.selectedDishId;n&&e(k.actions.clear({dishId:n}))}}},We=Object(u.c)((function(e){return{dishesIds:U(e)}}),De),we=We((function(e){var t=e.dishesIds,n=e.clearDish;return l.a.createElement("div",{className:"kitchen"},l.a.createElement("div",{className:"kitchen__trash-btn",onClick:ae(n)}),function(e){return e.map((function(e){return l.a.createElement(Ce,{dishId:e,key:e})}))}(t))})),Ke=(n(60),Object(u.c)((function(e){return{combo:e.game.combo}}))),Ge=function(e){return e<=2?"Bad":e<=4?"Good":e<=6?"Great":"Excellent"},Fe=Ke((function(e){var t=e.combo,n=Object(s.useRef)(null);return Object(s.useEffect)((function(){n.current&&0!==t&&function(e){var t=te.a.timeline();t.fromTo(e,1.2,{scale:.5,display:"inline-block"},{scale:1.3,ease:"elastic"}),t.to(e,0,{display:"none"})}(n.current)}),[t]),l.a.createElement("div",{className:"combo combo--".concat(Ge(t).toLowerCase()),ref:n},l.a.createElement("div",{className:"combo__title"},Ge(t)),t>2?l.a.createElement("div",{className:"combo__count"},t-2):null)})),Me={togglePausegame:le},Ve=Object(u.c)(null,Me)((function(e){var t=e.togglePausegame;return l.a.createElement("div",{className:"board"},l.a.createElement(Oe,null),l.a.createElement(Fe,null),l.a.createElement("div",{className:"board__body-container"},l.a.createElement("img",{className:"board__game-logo",src:ge.a,alt:""}),l.a.createElement(Le,null),l.a.createElement("div",{className:"board__menu-ctrls"},l.a.createElement("div",{className:"board__pause-btn",onClick:ae(t)}))),l.a.createElement(we,null))})),Qe=(n(61),{startgameLavel:function(e){return function(t,n){var a=n().levels.data[e];t(y.actions.startgame({currentTime:ie,levelId:e,lives:a.lives,dishesIds:Array.from(new Array(a.dishes)).map((function(){return ee()()}))}))}},togglePausegame:le}),Ue=Object(u.c)((function(e){return{currentLevelId:e.profile.levelId,isVisible:e.ui.modalType===i.RESTARTPAGE,isPaused:e.game.status===c.PAUSE,isFirst:e.game.status===c.FIRST_STOP,isStart:e.game.status===c.WIN_STOP||e.game.status===c.FIRST_STOP,isEndgame:e.game.status===c.WIN_STOP,levelsNum:Object.keys(e.levels.data).length,levels:e.levels.data,coins:e.profile.coins}}),Qe),Ye=function(e){return F()("restartpage",{"restartpage--visible":e})},Be=Object(s.memo)((function(e){var t=e.setLocalLevelId,n=e.localLevelId,a=n>1?{onClick:ae((function(){return t(n-1)}))}:{};return l.a.createElement("div",Object.assign({className:"restartpage__prev-level-btn"},a))})),Je=Object(s.memo)((function(e){var t=e.setLocalLevelId,n=e.localLevelId,a=e.levelsNum,i=n<a?{onClick:ae((function(){return t(n+1)}))}:{};return l.a.createElement("div",Object.assign({className:"restartpage__next-level-btn"},i))})),qe=function(e,t,n){return F()({"restartpage__play-btn":e!==t||n,"restartpage__retry-btn":e===t||!n})},ze=Object(s.memo)((function(e){var t=e.currentLevelId,n=e.localLevelId,a=e.levels,i=e.isStart,c=e.startgameLavel;return a[n].isLock?null:l.a.createElement("div",{className:qe(t,n,i),onClick:ae((function(){return c(n)}))})})),He=Object(s.memo)((function(e){var t=e.levels,n=e.localLevelId;return l.a.createElement("div",{className:"restartpage__level"},t[n].isLock?"?":n)})),Xe=Object(s.memo)((function(e){var t=e.isPaused,n=e.currentLevelId,a=e.localLevelId,i=e.togglePausegame;return t&&n===a?l.a.createElement("div",{className:"restartpage__resume-btn",onClick:ae(i)}):null})),Ze=Object(s.memo)((function(e){return e.isFirst?l.a.createElement("img",{className:"restartpage__game-logo",src:ge.a,alt:""}):null})),$e=Object(s.memo)((function(e){var t=e.coins;return e.isEndgame?l.a.createElement("div",{className:"restartpage__coins"},l.a.createElement("div",{className:"restartpage__coins__logo"}),l.a.createElement("div",{className:"restartpage__coins__txt"},t)):null})),et=Ue((function(e){var t=e.isVisible,n=e.currentLevelId,a=e.levelsNum,i=e.levels,c=e.startgameLavel,r=e.togglePausegame,o=e.isPaused,d=e.isFirst,u=e.isStart,m=e.isEndgame,f=e.coins,v=Object(s.useState)(n),b=Object(M.a)(v,2),p=b[0],I=b[1];return Object(s.useEffect)((function(){I(n)}),[n]),l.a.createElement("div",{className:Ye(t)},l.a.createElement(Ze,{isFirst:d}),l.a.createElement($e,{coins:f,isEndgame:m}),l.a.createElement("div",{className:"restartpage__level-ctrl"},l.a.createElement(Be,{setLocalLevelId:I,localLevelId:p}),l.a.createElement(He,{levels:i,localLevelId:p}),l.a.createElement(Je,{setLocalLevelId:I,localLevelId:p,levelsNum:a})),l.a.createElement("div",{className:"restartpage__level-start"},l.a.createElement(ze,{currentLevelId:n,localLevelId:p,levels:i,isStart:u,startgameLavel:c}),l.a.createElement(Xe,{isPaused:o,currentLevelId:n,localLevelId:p,togglePausegame:r})))}));d.a.render(l.a.createElement(u.a,{store:K},l.a.createElement(et,null),l.a.createElement(pe,null),l.a.createElement(me,null),l.a.createElement(Ve,null)),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.1f02a5ab.chunk.js.map